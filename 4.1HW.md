# Домашнее задание к занятию "4.1. Командная оболочка Bash: Практические навыки"
###  Обязательная задача 1
Есть скрипт:

a=1

b=2

c=a+b

d=$a+$b

e=$(($a+$b))

Какие значения переменным c,d,e будут присвоены? Почему?

Переменная	Значение	Обоснование 

### c	a+b	записали в строковую переменную символы a+b
### d	1+2 записали в строковую переменную значение переменных через символ +  
### e	3	произвели арефмитическе действие с переменными a b  так же можно заменить двойные скобки (()) квадратными []

###  Обязательная задача 2
На нашем локальном сервере упал сервис и мы написали скрипт, который постоянно проверяет его доступность, записывая дату проверок до тех пор, пока сервис не станет доступным (после чего скрипт должен завершиться). В скрипте допущена ошибка, из-за которой выполнение не может завершиться, при этом место на Жёстком Диске постоянно уменьшается. Что необходимо сделать, чтобы его исправить: 

while ((1==1)  // нет одной скобки 
do 
	curl https://localhost:4757
	if (($? != 0))
	then
		date >> curl.log
	fi
done
\
Ваш скрипт:

* while ((1==1))  
* do 
* 	curl https://localhost:4757
* 	if (($? != 0))
* 	then
* 		date > curl.log  // удаляем пвозожность переполнение диска файломи просто перезасываем его последним временем проверки
* 	else 
* 	  then
* 	     break // выходим из цикла если проверка (сurl https://localhost:4757 ) зкончилась без ошибки
* 	fi
* done
###  Обязательная задача 3
Необходимо написать скрипт, который проверяет доступность трёх IP: 192.168.0.1, 173.194.222.113, 87.250.250.242 по 80 порту и записывает результат в файл log. Проверять доступность необходимо пять раз для каждого узла.

Ваш скрипт:

echo "Hello" > log

i=4

while (($i >  0))

do

b=$(date)

curl http://192.168.0.1:80

if (($? != 0))

        then
        
        echo "host http://192.168.0.1:80 it's not available " $b >>log
        
        else
        
        echo "host http://192.168.0.1:80 it's available " $b >>log
        
fi

curl http://173.194.222.113:80

if (($? != 0))

        then
        
          echo "host http://173.194.222.113:80 it's not available " $b >>log
          
        else

        echo "host http://173.194.222.113:80 it's available " $b >>log
        
fi

curl http://87.250.250.242:80

if (($? != 0))

        then
        
        echo "host http://87.250.250.242:80 it's not available " $b >>log
        
        else
        
        echo "host http://87.250.250.242:80 it's available " $b >>log

fi

i=$(($i-1))

done

###  Обязательная задача 4
Необходимо дописать скрипт из предыдущего задания так, чтобы он выполнялся до тех пор, пока один из узлов не окажется недоступным. Если любой из узлов недоступен - IP этого узла пишется в файл error, скрипт прерывается.

Ваш скрипт:

echo  > error

array_ip[0]=192.168.0.1

array_ip[1]=173.194.222.113

array_ip[2]=87.250.250.242

while (( 1 == 1 ))

do

b=$(date)

curl http://${array_ip[0]}:80

if (($? != 0))

        then

        echo ${array_ip[0]} "  " $b >>error

        break

fi

curl http://${array_ip[1]}:80

if (($? != 0))

        then

        echo ${array_ip[1]} "  "$b >>error

        break

fi

curl http://${array_ip[2]}:80

if (($? != 0))

        then

        echo ${array_ip[2]}"  " $b >>error

        break

fi

done

* // вывод в файл  в скрипте оставил дату.
* cat error
* 192.168.0.1    Чт мар 10 04:02:07 +06 2022

